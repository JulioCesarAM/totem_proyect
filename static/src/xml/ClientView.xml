<?xml version="1.0" encoding="UTF-8"?>
<template xml:space="preserve">
    <t t-name="EventView">
        <div id="bodyPage">
            <div id="siguiente" class="column slideIcon">
                <h1 class="flecha">&#10094;</h1>
            </div>
            <div id="content" class="column">
                <div id="banner">
                    <t t-if="widget.event.bannerPrincipalSelector=='img'">
                        <img id="imgbanner" t-attf-src="{{'data:image/png;base64, ' + widget.event.bannerImg}}" style="width:100%;height:100%"/>
                    </t>
                    <t t-if="widget.sliderBool == true">
                        <t t-if="widget.event.bannerPrincipalSelector=='lvid'">
                            <iframe id="videobanner" t-attf-src="{{widget.event.urlVid}}" style="width:100%;height:100%"></iframe>
                        </t>
                        <t t-if="widget.event.bannerPrincipalSelector=='rssVideo'">
                            <iframe id="videobanner" t-attf-src="{{widget.event.rssVideo}}" style="width:100%;height:100%"></iframe>
                        </t>
                        <div id="abajoDerecha">
                            <div class="containbarcode">
                                <img id="eventBarcode" t-attf-src="{{'/report/barcode/?type=QR&amp;value=' + widget.event.qr + '&amp;width=155&amp;height=165'}}"/>
                            </div>
                        </div>
                    </t>
                    <t t-if="widget.sliderBool == false &amp;&amp; widget.event.bannerPrincipalSelector!='img'">
                        <img id="imgbanner" src="/totem_proyect/static/src/img/connection-lost.png" style="width:1026px;height:864px"/>
                    </t>
                </div>


                <div id="resto">
                    <h1 id="titulo"><t t-esc="widget.event.name"/></h1>
                    <t t-if="widget.event.sliderImg.length > 0">
                        <div class="description" style="height:37.9%;"><t t-esc="widget.event.description"/></div>
                        <div class="slideshow-container carousel slide">
                            <div class="carousel-inner" style="width:100%;height:100%">
                                <t t-foreach="widget.event.sliderImg" t-as="i">
                                    <div class="mySlides carousel-item active" style="width:100%;height:100%">
                                        <img class="d-block" t-attf-src="{{'/web/image/slider.totem/' + i + '/image_rute'}}" style="width:100%;height:100%"/>
                                    </div>
                                </t>
                            </div>
                        </div>
                    </t>
                    <t t-if="widget.event.sliderImg.length == 0 || widget.sliderBool == false">
                        <div class="description" style="height:93.4%;padding-bottom:10px;"><t t-esc="widget.event.description"/></div>
                    </t>
                </div>
                <div id="footerPage">
                    <div class="column" id="companyDesc" ><t t-esc="widget.configuration.description"/></div>
                    <div class="column" id="companyCode" ><img id="barfooter" t-attf-src="{{'/report/barcode/?type=QR&amp;value=' + widget.configuration.companyQr + '&amp;width=200&amp;height=192'}}"/></div> 
                </div>
            </div>
            <div id="atras" class="column slideIcon">
                <h1 class="flecha">&#10095;</h1>
            </div>

                <!-- MODAL -->
                
                <div class="modal fade" id="mymodal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title" id="exampleModalLongTitle">
                                    <t t-if="widget.sliderBool == true">
                                        <img t-attf-src="{{'/web/image/event.totem/' + widget.event.id + '/logo'}}" style="width:40px;height:40px;margin-right:10px;"/>
                                    </t>
                                    <t t-esc="widget.event.titlePopUp"/>
                                </h3>
                            </div>
                            <div class="modal-body" style="display:table;">
                                <p style="font-size:180%;text-align:justify;"><t t-esc="widget.event.descriptionPopUp"/></p>
                                <t t-if="widget.sliderBool == true">
                                    <img t-attf-src="{{'/web/image/event.totem/' + widget.event.id + '/popUpImg'}}" style="width:100%;height:300px;"/>
                                </t>    
                            </div>
                            <div class="modal-footer" style="position:relative;height:120px">
                                <t t-if="widget.sliderBool == true">
                                    <img t-attf-src="{{'/report/barcode/?type=QR&amp;value=' + widget.event.urlWeb + '&amp;width=100&amp;height=100'}}" style="left:20px;position:absolute"/>
                                </t>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <style id="ColorDeFondo">
                    #bodyPage{
                        background-image: url("/web/image/res.company/<t t-esc="widget.configuration.id"/>/backGroundImg");
                        background-color: black;
                    }
                    .slideIcon{
                        background-image: url("/web/image/res.company/<t t-esc="widget.configuration.id"/>/backGroundImg");
                        background-color: black;
                    }
                </style>

                <!-- CIERRE DEL MODAL -->
        </div>
    </t>
</template>